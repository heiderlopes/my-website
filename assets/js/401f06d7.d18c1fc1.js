"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5611],{4923:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"tutoriais/meus-perfumes/tutoriais-flutter-app-meus-perfumes","title":"Criando o app Meus Perfumes","description":"Objetivo","source":"@site/docs/flutter/03-tutoriais/01-meus-perfumes/01-intro.md","sourceDirName":"03-tutoriais/01-meus-perfumes","slug":"/tutoriais/meus-perfumes/tutoriais-flutter-app-meus-perfumes","permalink":"/my-website/flutter/tutoriais/meus-perfumes/tutoriais-flutter-app-meus-perfumes","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Flutter","permalink":"/my-website/flutter/tags/flutter"},{"inline":true,"label":"Desenvolvimento Mobile","permalink":"/my-website/flutter/tags/desenvolvimento-mobile"},{"inline":true,"label":"Dart","permalink":"/my-website/flutter/tags/dart"},{"inline":true,"label":"Webservices","permalink":"/my-website/flutter/tags/webservices"}],"version":"current","sidebarPosition":1,"frontMatter":{"id":"tutoriais-flutter-app-meus-perfumes","title":"Criando o app Meus Perfumes","sidebar_label":"Passo a passo","tags":["Flutter","Desenvolvimento Mobile","Dart","Webservices"]},"sidebar":"flutterSidebar","previous":{"title":"Gerenciador de Tarefas com ChangeNotifier","permalink":"/my-website/flutter/gerenciamento-estado/exercicios/exercicio-todo-changenotifier"}}');var o=r(4848),i=r(8453);const s={id:"tutoriais-flutter-app-meus-perfumes",title:"Criando o app Meus Perfumes",sidebar_label:"Passo a passo",tags:["Flutter","Desenvolvimento Mobile","Dart","Webservices"]},a="Meus Perfumes \u2014 Tutorial passo a passo (did\xe1tico)",l={},d=[{value:"Objetivo",id:"objetivo",level:2},{value:"Pr\xe9-requisitos",id:"pr\xe9-requisitos",level:2},{value:"1) Criar o projeto Flutter",id:"1-criar-o-projeto-flutter",level:2},{value:"2) Adicionar depend\xeancias",id:"2-adicionar-depend\xeancias",level:2},{value:"3) Estrutura do exerc\xedcio",id:"3-estrutura-do-exerc\xedcio",level:2},{value:"4) C\xf3digo completo (<code>lib/main.dart</code>)",id:"4-c\xf3digo-completo-libmaindart",level:2},{value:"5) Testes e valida\xe7\xe3o (o que o aluno deve testar)",id:"5-testes-e-valida\xe7\xe3o-o-que-o-aluno-deve-testar",level:2},{value:"6) Observa\xe7\xf5es para debug comum",id:"6-observa\xe7\xf5es-para-debug-comum",level:2},{value:"7) Melhorias e desafios extras (opcionais)",id:"7-melhorias-e-desafios-extras-opcionais",level:2}];function c(e){const n={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"meus-perfumes--tutorial-passo-a-passo-did\xe1tico",children:"Meus Perfumes \u2014 Tutorial passo a passo (did\xe1tico)"})}),"\n",(0,o.jsx)(n.h2,{id:"objetivo",children:"Objetivo"}),"\n",(0,o.jsxs)(n.p,{children:["Neste tutorial ",(0,o.jsx)(n.strong,{children:"did\xe1tico"})," voc\xea vai construir, passo a passo, o aplicativo ",(0,o.jsx)(n.strong,{children:"Meus Perfumes"})," em Flutter.",(0,o.jsx)(n.br,{}),"\n","O app realiza opera\xe7\xf5es ",(0,o.jsx)(n.strong,{children:"CRUD"})," (Create \u2014 Read \u2014 Delete) consumindo uma API REST p\xfablica e persiste o ",(0,o.jsx)(n.strong,{children:"RM"})," do usu\xe1rio usando ",(0,o.jsx)(n.code,{children:"SharedPreferences"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Ao final voc\xea ter\xe1:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Tela para inserir e persistir o RM;"}),"\n",(0,o.jsx)(n.li,{children:"Listagem dos perfumes do RM (GET);"}),"\n",(0,o.jsx)(n.li,{children:"Formul\xe1rio para cadastrar novo perfume (POST) com preview de imagem;"}),"\n",(0,o.jsx)(n.li,{children:"Exclus\xe3o de perfume (DELETE);"}),"\n",(0,o.jsxs)(n.li,{children:["Tudo implementado em ",(0,o.jsx)(n.strong,{children:"um \xfanico arquivo"}),": ",(0,o.jsx)(n.code,{children:"lib/main.dart"})," (para facilitar o aprendizado)."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"pr\xe9-requisitos",children:"Pr\xe9-requisitos"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Flutter instalado (vers\xe3o est\xe1vel)."}),"\n",(0,o.jsx)(n.li,{children:"Editor: VS Code ou Android Studio."}),"\n",(0,o.jsx)(n.li,{children:"Conex\xe3o com a internet (a API est\xe1 hospedada externamente)."}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"1-criar-o-projeto-flutter",children:"1) Criar o projeto Flutter"}),"\n",(0,o.jsx)(n.p,{children:"No terminal:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"flutter create meus_perfumes\ncd meus_perfumes\n"})}),"\n",(0,o.jsx)(n.p,{children:"Abra o projeto no editor."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"2-adicionar-depend\xeancias",children:"2) Adicionar depend\xeancias"}),"\n",(0,o.jsxs)(n.p,{children:["No ",(0,o.jsx)(n.code,{children:"pubspec.yaml"}),", dentro de ",(0,o.jsx)(n.code,{children:"dependencies:"})," adicione:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"http: ^1.2.0\nshared_preferences: ^2.0.15\n"})}),"\n",(0,o.jsx)(n.p,{children:"Depois execute:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"flutter pub get\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"3-estrutura-do-exerc\xedcio",children:"3) Estrutura do exerc\xedcio"}),"\n",(0,o.jsxs)(n.p,{children:["Coloque todo o c\xf3digo no arquivo: ",(0,o.jsx)(n.code,{children:"lib/main.dart"}),". O tutorial segue as etapas:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Esqueleto do app (",(0,o.jsx)(n.code,{children:"main()"})," e MaterialApp)"]}),"\n",(0,o.jsxs)(n.li,{children:["Modelo ",(0,o.jsx)(n.code,{children:"Perfume"})]}),"\n",(0,o.jsx)(n.li,{children:"Tela de RM (persist\xeancia com SharedPreferences)"}),"\n",(0,o.jsx)(n.li,{children:"Tela de listagem (GET / DELETE)"}),"\n",(0,o.jsx)(n.li,{children:"Tela de formul\xe1rio (POST) com preview de imagem"}),"\n",(0,o.jsx)(n.li,{children:"Ajustes, testes e sugest\xf5es"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.h2,{id:"4-c\xf3digo-completo-libmaindart",children:["4) C\xf3digo completo (",(0,o.jsx)(n.code,{children:"lib/main.dart"}),")"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Fa\xe7a ",(0,o.jsx)(n.strong,{children:"todo"})," o bloco abaixo em ",(0,o.jsx)(n.code,{children:"lib/main.dart"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:"import 'dart:convert';\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:shared_preferences/shared_preferences.dart';\n\nvoid main() {\n  runApp(const PerfumesApp());\n}\n\nclass PerfumesApp extends StatelessWidget {\n  const PerfumesApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Meus Perfumes',\n      theme: ThemeData(\n        useMaterial3: true,\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n      ),\n      home: const RmEntryScreen(),\n      debugShowCheckedModeBanner: false,\n    );\n  }\n}\n\n/// --------------------- Model ---------------------\nclass Perfume {\n  final String id;\n  final String rm;\n  final String imagem;\n  final String nome;\n  final String ml;\n\n  Perfume({\n    required this.id,\n    required this.rm,\n    required this.imagem,\n    required this.nome,\n    required this.ml,\n  });\n\n  factory Perfume.fromJson(Map<String, dynamic> json) {\n    // cobre tanto `id` quanto `_id`\n    return Perfume(\n      id: json['id']?.toString() ?? json['_id']?.toString() ?? '',\n      rm: json['rm']?.toString() ?? '',\n      imagem: json['imagem']?.toString() ?? '',\n      nome: json['nome']?.toString() ?? '',\n      ml: json['ml']?.toString() ?? '',\n    );\n  }\n\n  Map<String, dynamic> toJson() {\n    return {'rm': rm, 'imagem': imagem, 'nome': nome, 'ml': ml};\n  }\n}\n\n/// --------------------- RM Entry Screen ---------------------\nclass RmEntryScreen extends StatefulWidget {\n  const RmEntryScreen({super.key});\n\n  @override\n  State<RmEntryScreen> createState() => _RmEntryScreenState();\n}\n\nclass _RmEntryScreenState extends State<RmEntryScreen> {\n  final TextEditingController _rmController = TextEditingController();\n  bool _loading = true;\n\n  @override\n  void initState() {\n    super.initState();\n    _loadSavedRm();\n  }\n\n  Future<void> _loadSavedRm() async {\n    setState(() => _loading = true);\n    final sp = await SharedPreferences.getInstance();\n    final saved = sp.getString('rm') ?? '';\n    _rmController.text = saved;\n    setState(() => _loading = false);\n  }\n\n  Future<void> _saveAndContinue() async {\n    final rm = _rmController.text.trim();\n    if (rm.isEmpty) {\n      ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text('Por favor, informe o RM')));\n      return;\n    }\n    final sp = await SharedPreferences.getInstance();\n    await sp.setString('rm', rm);\n\n    // navegar para a lista, passando o rm como par\xe2metro\n    Navigator.of(context).pushReplacement(\n      MaterialPageRoute(builder: (_) => PerfumeListScreen(rm: rm)),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text('Informe seu RM'), centerTitle: true),\n      body: _loading\n          ? const Center(child: CircularProgressIndicator())\n          : Padding(\n              padding: const EdgeInsets.all(16),\n              child: Column(\n                children: [\n                  TextField(\n                    controller: _rmController,\n                    keyboardType: TextInputType.text,\n                    decoration: const InputDecoration(\n                      labelText: 'RM',\n                      border: OutlineInputBorder(),\n                      hintText: 'Ex: 123456',\n                    ),\n                  ),\n                  const SizedBox(height: 16),\n                  ElevatedButton.icon(\n                    onPressed: _saveAndContinue,\n                    icon: const Icon(Icons.arrow_forward),\n                    label: const Text('Continuar'),\n                  ),\n                ],\n              ),\n            ),\n    );\n  }\n}\n\n/// --------------------- Perfume List Screen ---------------------\nclass PerfumeListScreen extends StatefulWidget {\n  final String rm;\n  const PerfumeListScreen({super.key, required this.rm});\n\n  @override\n  State<PerfumeListScreen> createState() => _PerfumeListScreenState();\n}\n\nclass _PerfumeListScreenState extends State<PerfumeListScreen> {\n  static const String baseUrl =\n      'https://generic-items-api-a785ff596d21.herokuapp.com';\n  List<Perfume> perfumes = [];\n  bool isLoading = false;\n\n  @override\n  void initState() {\n    super.initState();\n    fetchPerfumes();\n  }\n\n  Future<void> fetchPerfumes() async {\n    setState(() => isLoading = true);\n    try {\n      final url = Uri.parse('$baseUrl/api/meusperfumes/${widget.rm}');\n      final res = await http.get(url);\n      if (res.statusCode == 200) {\n        final body = jsonDecode(res.body);\n        if (body is List) {\n          perfumes = body.map((e) => Perfume.fromJson(e)).toList();\n        } else {\n          perfumes = [];\n        }\n      } else {\n        perfumes = [];\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(content: Text('Erro ao buscar: ${res.statusCode}')),\n        );\n      }\n    } catch (e) {\n      perfumes = [];\n      ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text('Erro de rede: $e')));\n    } finally {\n      setState(() => isLoading = false);\n    }\n  }\n\n  Future<void> deletePerfume(String id) async {\n    setState(() => isLoading = true);\n    try {\n      final url = Uri.parse('$baseUrl/api/meusperfumes/${widget.rm}/$id');\n      final res = await http.delete(url);\n      if (res.statusCode == 200) {\n        ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text('Exclu\xeddo com sucesso')));\n        await fetchPerfumes();\n      } else {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(content: Text('Erro ao excluir: ${res.statusCode}')),\n        );\n      }\n    } catch (e) {\n      ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text('Erro de rede: $e')));\n    } finally {\n      setState(() => isLoading = false);\n    }\n  }\n\n  void openAddForm() async {\n    final result = await Navigator.of(context).push<bool>(\n      MaterialPageRoute(builder: (_) => PerfumeFormScreen(rm: widget.rm)),\n    );\n\n    // se salvou (retornou true), recarrega a lista\n    if (result == true) {\n      fetchPerfumes();\n    }\n  }\n\n  Future<void> _changeRm() async {\n    // permite mudar RM: limpa o saved RM e volta para a tela de entrada\n    final sp = await SharedPreferences.getInstance();\n    await sp.remove('rm');\n    Navigator.of(context).pushReplacement(MaterialPageRoute(builder: (_) => const RmEntryScreen()));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Meus Perfumes \u2014 RM: ${widget.rm}'),\n        actions: [\n          IconButton(\n            tooltip: 'Mudar RM',\n            onPressed: _changeRm,\n            icon: const Icon(Icons.switch_account),\n          ),\n          IconButton(\n            tooltip: 'Atualizar',\n            onPressed: fetchPerfumes,\n            icon: const Icon(Icons.refresh),\n          ),\n        ],\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: openAddForm,\n        child: const Icon(Icons.add),\n      ),\n      body: isLoading\n          ? const Center(child: CircularProgressIndicator())\n          : perfumes.isEmpty\n              ? const Center(child: Text('Nenhum perfume cadastrado para este RM'))\n              : RefreshIndicator(\n                  onRefresh: fetchPerfumes,\n                  child: ListView.builder(\n                    padding: const EdgeInsets.all(8),\n                    itemCount: perfumes.length,\n                    itemBuilder: (context, i) {\n                      final p = perfumes[i];\n                      return Card(\n                        elevation: 2,\n                        margin: const EdgeInsets.symmetric(vertical: 6),\n                        child: ListTile(\n                          leading: SizedBox(\n                            width: 64,\n                            height: 64,\n                            child: ClipRRect(\n                              borderRadius: BorderRadius.circular(8),\n                              child: p.imagem.isNotEmpty\n                                  ? Image.network(\n                                      p.imagem,\n                                      fit: BoxFit.cover,\n                                      errorBuilder: (c, e, s) => const Icon(Icons.broken_image),\n                                      loadingBuilder: (c, w, chunk) {\n                                        if (chunk == null) return w!;\n                                        return const Center(child: CircularProgressIndicator());\n                                      },\n                                    )\n                                  : const Icon(Icons.image_not_supported, size: 40),\n                            ),\n                          ),\n                          title: Text(p.nome, style: const TextStyle(fontWeight: FontWeight.bold)),\n                          subtitle: Text('ml: ${p.ml}'),\n                          trailing: IconButton(\n                            icon: const Icon(Icons.delete, color: Colors.red),\n                            onPressed: () async {\n                              final confirm = await showDialog<bool>(\n                                context: context,\n                                builder: (_) => AlertDialog(\n                                  title: const Text('Confirmar exclus\xe3o'),\n                                  content: Text('Excluir \"${p.nome}\" ?'),\n                                  actions: [\n                                    TextButton(onPressed: () => Navigator.pop(context, false), child: const Text('Cancelar')),\n                                    ElevatedButton(onPressed: () => Navigator.pop(context, true), child: const Text('Excluir')),\n                                  ],\n                                ),\n                              );\n                              if (confirm == true) {\n                                await deletePerfume(p.id);\n                              }\n                            },\n                          ),\n                        ),\n                      );\n                    },\n                  ),\n                ),\n    );\n  }\n}\n\n/// --------------------- Perfume Form Screen ---------------------\nclass PerfumeFormScreen extends StatefulWidget {\n  final String rm;\n  const PerfumeFormScreen({super.key, required this.rm});\n\n  @override\n  State<PerfumeFormScreen> createState() => _PerfumeFormScreenState();\n}\n\nclass _PerfumeFormScreenState extends State<PerfumeFormScreen> {\n  static const String baseUrl = 'https://generic-items-api-a785ff596d21.herokuapp.com';\n  final _formKey = GlobalKey<FormState>();\n  final TextEditingController _imagemController = TextEditingController();\n  final TextEditingController _nomeController = TextEditingController();\n  final TextEditingController _mlController = TextEditingController();\n  bool _saving = false;\n  String _imagePreviewUrl = '';\n\n  @override\n  void initState() {\n    super.initState();\n    _imagemController.addListener(_onImageChanged);\n  }\n\n  void _onImageChanged() {\n    setState(() {\n      _imagePreviewUrl = _imagemController.text.trim();\n    });\n  }\n\n  Future<void> _savePerfume() async {\n    if (!_formKey.currentState!.validate()) return;\n\n    final perfume = Perfume(\n      id: '',\n      rm: widget.rm,\n      imagem: _imagemController.text.trim(),\n      nome: _nomeController.text.trim(),\n      ml: _mlController.text.trim(),\n    );\n\n    setState(() => _saving = true);\n    try {\n      final url = Uri.parse('$baseUrl/api/meusperfumes');\n      final res = await http.post(\n        url,\n        headers: {'Content-Type': 'application/json'},\n        body: jsonEncode(perfume.toJson()),\n      );\n\n      if (res.statusCode == 200 || res.statusCode == 201) {\n        ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text('Perfume salvo com sucesso')));\n        Navigator.of(context).pop(true); // retorna true indicando que salvou\n      } else {\n        ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text('Erro ao salvar: ${res.statusCode}')));\n      }\n    } catch (e) {\n      ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text('Erro de rede: $e')));\n    } finally {\n      setState(() => _saving = false);\n    }\n  }\n\n  @override\n  void dispose() {\n    _imagemController.removeListener(_onImageChanged);\n    _imagemController.dispose();\n    _nomeController.dispose();\n    _mlController.dispose();\n    super.dispose();\n  }\n\n  Widget _imagePreviewWidget() {\n    final url = _imagePreviewUrl;\n    if (url.isEmpty) {\n      return const SizedBox.shrink();\n    }\n    return Padding(\n      padding: const EdgeInsets.only(top: 12.0),\n      child: SizedBox(\n        height: 180,\n        child: ClipRRect(\n          borderRadius: BorderRadius.circular(8),\n          child: Image.network(\n            url,\n            fit: BoxFit.cover,\n            width: double.infinity,\n            errorBuilder: (c, e, s) => Container(\n              color: Colors.grey[200],\n              child: const Center(child: Icon(Icons.broken_image, size: 48)),\n            ),\n            loadingBuilder: (c, w, chunk) {\n              if (chunk == null) return w!;\n              return const Center(child: CircularProgressIndicator());\n            },\n          ),\n        ),\n      ),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text('Novo Perfume')),\n      body: SingleChildScrollView(\n        padding: const EdgeInsets.all(16),\n        child: Column(\n          children: [\n            // Mostrar RM no topo (carregado do shared prefs e passado via par\xe2metro)\n            Row(\n              children: [\n                const Icon(Icons.badge, size: 20),\n                const SizedBox(width: 8),\n                Text('RM: ${widget.rm}', style: const TextStyle(fontWeight: FontWeight.bold)),\n              ],\n            ),\n            const SizedBox(height: 12),\n            Form(\n              key: _formKey,\n              child: Column(\n                children: [\n                  TextFormField(\n                    controller: _imagemController,\n                    decoration: const InputDecoration(\n                      labelText: 'URL da imagem (imagem)',\n                      border: OutlineInputBorder(),\n                      hintText: 'https://...jpg',\n                    ),\n                    validator: (v) {\n                      if (v == null || v.trim().isEmpty) return 'Imagem \xe9 obrigat\xf3ria';\n                      if (!v.trim().startsWith('http')) return 'Informe uma URL v\xe1lida';\n                      return null;\n                    },\n                  ),\n                  // preview\n                  _imagePreviewWidget(),\n                  const SizedBox(height: 12),\n                  TextFormField(\n                    controller: _nomeController,\n                    decoration: const InputDecoration(labelText: 'Nome', border: OutlineInputBorder()),\n                    validator: (v) => (v == null || v.trim().isEmpty) ? 'Nome \xe9 obrigat\xf3rio' : null,\n                  ),\n                  const SizedBox(height: 12),\n                  TextFormField(\n                    controller: _mlController,\n                    decoration: const InputDecoration(labelText: 'ml', border: OutlineInputBorder(), hintText: 'Ex: 50'),\n                    keyboardType: TextInputType.number,\n                    validator: (v) => (v == null || v.trim().isEmpty) ? 'ml \xe9 obrigat\xf3rio' : null,\n                  ),\n                  const SizedBox(height: 20),\n                  SizedBox(\n                    width: double.infinity,\n                    child: ElevatedButton.icon(\n                      icon: _saving ? const SizedBox(width: 16, height: 16, child: CircularProgressIndicator(strokeWidth: 2)) : const Icon(Icons.save),\n                      label: Text(_saving ? 'Salvando...' : 'Salvar'),\n                      onPressed: _saving ? null : _savePerfume,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"5-testes-e-valida\xe7\xe3o-o-que-o-aluno-deve-testar",children:"5) Testes e valida\xe7\xe3o (o que o aluno deve testar)"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Abrir o app: preencher o RM e continuar \u2014 a tela de lista deve abrir."}),"\n",(0,o.jsxs)(n.li,{children:["Na tela de lista, clicar em ",(0,o.jsx)(n.strong,{children:"+"})," para abrir o formul\xe1rio."]}),"\n",(0,o.jsxs)(n.li,{children:["Preencher ",(0,o.jsx)(n.code,{children:"imagem"})," (URL v\xe1lida), ",(0,o.jsx)(n.code,{children:"nome"})," e ",(0,o.jsx)(n.code,{children:"ml"}),". Aperte Salvar \u2014 o app deve retornar \xe0 lista e mostrar o novo item (pode demorar alguns segundos por causa da API)."]}),"\n",(0,o.jsx)(n.li,{children:"Fazer exclus\xe3o: toque no \xedcone da lixeira e confirme \u2014 o item deve desaparecer."}),"\n",(0,o.jsx)(n.li,{children:"Fechar e abrir o app: o RM informado deve permanecer salvo no SharedPreferences."}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"6-observa\xe7\xf5es-para-debug-comum",children:"6) Observa\xe7\xf5es para debug comum"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.em,{children:["Erro \"Target of URI doesn't exist: package",":http",'/http.dart":']})," adicione ",(0,o.jsx)(n.code,{children:"http"})," no ",(0,o.jsx)(n.code,{children:"pubspec.yaml"})," e rode ",(0,o.jsx)(n.code,{children:"flutter pub get"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:"ID vazio na exclus\xe3o:"})," verifique se a API retorna ",(0,o.jsx)(n.code,{children:"id"})," ou ",(0,o.jsx)(n.code,{children:"_id"}),". O ",(0,o.jsx)(n.code,{children:"fromJson"})," do modelo faz a checagem em ambos os campos."]}),"\n",(0,o.jsxs)(n.li,{children:["Para ver o retorno da API, adicione ",(0,o.jsx)(n.code,{children:"print(res.body)"})," em ",(0,o.jsx)(n.code,{children:"fetchPerfumes()"})," para inspecionar o JSON."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"7-melhorias-e-desafios-extras-opcionais",children:"7) Melhorias e desafios extras (opcionais)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Validar que ",(0,o.jsx)(n.code,{children:"ml"})," \xe9 num\xe9rico e dentro de um range (ex.: 1\u20131000)."]}),"\n",(0,o.jsxs)(n.li,{children:["Trocar ",(0,o.jsx)(n.code,{children:"Image.network"})," por um pacote com cache (ex.: ",(0,o.jsx)(n.code,{children:"cached_network_image"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:["Refatorar o app em m\xfaltiplos arquivos (",(0,o.jsx)(n.code,{children:"models/"}),", ",(0,o.jsx)(n.code,{children:"screens/"}),", ",(0,o.jsx)(n.code,{children:"services/"}),")."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>a});var t=r(6540);const o={},i=t.createContext(o);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);